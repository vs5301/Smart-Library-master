<div class="main-content">
<div class="container-fluid">
<div class="row">

<div class="col-md-10 col-md-offset-1">
<div class="card">

<div class="row">

<div class="col-md-8 text-left">
<div class="header">
<h4 class="title">Membership Plan </h4>
</div>
</div>
                        
<div class="col-md-4 text-right">
<div class="header">
<a class="btn btn-black  btn-fill" style="background-color: black;" (click)="openModal()">Add Plan </a>
</div>
</div>
</div>

<div class="content table-responsive table-full-width">
<table class="table table-hover table-striped">
  <thead>
    <tr>
     <th *ngFor="let cell of tableData1.headerRow">{{ cell }}</th>
     </tr>
  </thead>
  <tbody>
    <tr *ngFor = "let plan of plansList">
      <td>{{plan.plan}}</td>
      <td>{{plan.bookIssueLimit}}</td>
      <td>{{plan.bookReturnPeriod}}</td>
      <td>{{plan.price}}</td>
      <td>
        <a class="btn btn-info btn-fill" (click)="openModal()">Edit</a>&nbsp;
        <a href="#" class="btn btn-danger  btn-fill" (click) = "deletePlans(planObj)">Delete</a>

      </td>
    </tr>
  </tbody>
 </table>
</div>
</div>
</div>
</div>
</div>
</div>


<!-- Add Button trigger modal -->
    <div class="modal" tabindex="-1" role="dialog"  [ngStyle]="{'display':display}">
         <div class="modal-dialog modal-dialog-centered" role="document">
               <div class="modal-content">
                     <div class="modal-header">
                           <h4 class="modal-title">Member Plan</h4>
                           <button type="button" class="close" aria-label="Close" (click)="onCloseHandled()"><span aria-hidden="true">&times;</span></button>
                         </div>
                <div class="modal-body">
                  <form [formGroup]="planForm" (ngSubmit)="saveUserInFirestore()" >
                    
                    <div class="form-group">
                      <label for="plan" class="form-label">Plan</label>
                      <input formControlName="plan" class="form-control" [(ngModel)]="plan">

                      <div *ngIf="planForm.get('plan')?.invalid && (planForm.get('plan')?.dirty || planForm.get('plan')?.touched)"
                     class="text-sm text-danger">
                    <div *ngIf="planForm.get('plan')!.hasError('required')">Field is required.</div>
                    </div>
              
                    </div>
                    <div class="form-group">
                      <label for="bookIssueLimit" class="form-label">Book Issue Limit</label>
                      <input formControlName="bookIssueLimit" class="form-control" [(ngModel)]="bookIssueLimit">
              
                      <div *ngIf="planForm.get('bookIssueLimit')?.invalid && (planForm.get('bookIssueLimit')?.dirty || planForm.get('bookIssueLimit')?.touched)"
                      class="text-sm text-danger">
                     <div *ngIf="planForm.get('bookIssueLimit')!.hasError('required')">Field is required.</div>
                     </div>

                    </div>
                    <div class="form-group">
                      <label for="bookReturnPeriod" class="form-label">Book Return Period</label>
                      <input formControlName="bookReturnPeriod" class="form-control" [(ngModel)]="bookReturnPeriod">
                     
                      <div *ngIf="planForm.get('bookReturnPeriod')?.invalid && (planForm.get('bookReturnPeriod')?.dirty || planForm.get('bookReturnPeriod')?.touched)"
                     class="text-sm text-danger">
                    <div *ngIf="planForm.get('bookReturnPeriod')!.hasError('required')">Field is required.</div>
                    </div>

                    </div>
                    <div class="form-group">
                      <label for="price" class="form-label">Price</label>
                      <input formControlName="price" class="form-control" [(ngModel)]="price">

                      <div *ngIf="planForm.get('price')?.invalid && (planForm.get('price')?.dirty || planForm.get('price')?.touched)"
                     class="text-sm text-danger">
                    <div *ngIf="planForm.get('price')!.hasError('required')">Field is required.</div>
                    </div>

                    </div>
                    <div class="form-group">
                      <input type="submit" class="btn btn-primary" value="Submit" (click) = "getAllPlan()">
                    </div>
                    <button type="button" id="cancel" class="btn btn-default" (click)="onCloseHandled()">Close</button>
                  </form>
                         </div>

                     <!-- <div class="modal-footer">
                      <div class="form-group">
                        <input type="submit" class="btn btn-primary" value="Submit">
                      </div>
                           <button type="button" class="btn btn-default" (click)="onCloseHandled()">Close</button>
                         </div> -->
            </div>
             </div>
 </div>

<!-- Edit trigger modal -->
<div class="modal" tabindex="-1" role="dialog"  [ngStyle]="{'display':editdisplay}">
  <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
              <div class="modal-header">
                    <h4 class="modal-title">Edit Member Plan</h4>
                    <button type="button" class="close" aria-label="Close" (click)="onCloseHandled()"><span aria-hidden="true">&times;</span></button>
                  </div>
         <div class="modal-body">
           <form [formGroup]="planForm" (ngSubmit)="updatePlans()" >
             
             <div class="form-group">
               <label for="plan" class="form-label">Plan</label>
               <input formControlName="plan" class="form-control" >

               <div *ngIf="planForm.get('plan')?.invalid && (planForm.get('plan')?.dirty || planForm.get('plan')?.touched)"
              class="text-sm text-danger">
             <div *ngIf="planForm.get('plan')!.hasError('required')">Field is required.</div>
             </div>
       
             </div>
             <div class="form-group">
               <label for="bookIssueLimit" class="form-label">Book Issue Limit</label>
               <input formControlName="bookIssueLimit" class="form-control" >
       
               <div *ngIf="planForm.get('bookIssueLimit')?.invalid && (planForm.get('bookIssueLimit')?.dirty || planForm.get('bookIssueLimit')?.touched)"
               class="text-sm text-danger">
              <div *ngIf="planForm.get('bookIssueLimit')!.hasError('required')">Field is required.</div>
              </div>

             </div>
             <div class="form-group">
               <label for="bookReturnPeriod" class="form-label">Book Return Period</label>
               <input formControlName="bookReturnPeriod" class="form-control" >
              
               <div *ngIf="planForm.get('bookReturnPeriod')?.invalid && (planForm.get('bookReturnPeriod')?.dirty || planForm.get('bookReturnPeriod')?.touched)"
              class="text-sm text-danger">
             <div *ngIf="planForm.get('bookReturnPeriod')!.hasError('required')">Field is required.</div>
             </div>

             </div>
             <div class="form-group">
               <label for="price" class="form-label">Price</label>
               <input formControlName="price" class="form-control">

               <div *ngIf="planForm.get('price')?.invalid && (planForm.get('price')?.dirty || planForm.get('price')?.touched)"
              class="text-sm text-danger">
             <div *ngIf="planForm.get('price')!.hasError('required')">Field is required.</div>
             </div>

             </div>
             <div class="form-group">
               <input type="submit" class="btn btn-primary" value="Submit">
             </div>
             <button type="button" id="cancel" class="btn btn-default" (click)="onCloseHandled()">Close</button>
           </form>
                  </div>

              <!-- <div class="modal-footer">
               <div class="form-group">
                 <input type="submit" class="btn btn-primary" value="Submit">
               </div>
                    <button type="button" class="btn btn-default" (click)="onCloseHandled()">Close</button>
                  </div> -->
     </div>
      </div>
</div>


<!--
<div class="main-content" >
  <div class="container-fluid">
      <div class="row">
          
          <div class="col-md-8 col-md-offset-2">   
              <div class="card">
                  <div class="header">
                      <h4 class="title">Member Plan</h4>
                  </div>
                  <div class="content">
                    <form [formGroup]="planForm" (ngSubmit)="saveUserInFirestore()" >
                    
                      <div class="form-group">
                        <label for="plan" class="form-label">Plan</label>
                        <input formControlName="plan" class="form-control" >

                        <div *ngIf="planForm.get('plan')?.invalid && (planForm.get('plan')?.dirty || planForm.get('plan')?.touched)"
                       class="text-sm text-danger">
                      <div *ngIf="planForm.get('plan')!.hasError('required')">Field is required.</div>
                      </div>
                
                      </div>
                      <div class="form-group">
                        <label for="bookIssueLimit" class="form-label">Book Issue Limit</label>
                        <input formControlName="bookIssueLimit" class="form-control" >
                
                        <div *ngIf="planForm.get('bookIssueLimit')?.invalid && (planForm.get('bookIssueLimit')?.dirty || planForm.get('bookIssueLimit')?.touched)"
                        class="text-sm text-danger">
                       <div *ngIf="planForm.get('bookIssueLimit')!.hasError('required')">Field is required.</div>
                       </div>

                      </div>
                      <div class="form-group">
                        <label for="bookReturnPeriod" class="form-label">Book Return Period</label>
                        <input formControlName="bookReturnPeriod" class="form-control" >
                       
                        <div *ngIf="planForm.get('bookReturnPeriod')?.invalid && (planForm.get('bookReturnPeriod')?.dirty || planForm.get('bookReturnPeriod')?.touched)"
                       class="text-sm text-danger">
                      <div *ngIf="planForm.get('bookReturnPeriod')!.hasError('required')">Field is required.</div>
                      </div>

                      </div>
                      <div class="form-group">
                        <label for="price" class="form-label">Price</label>
                        <input formControlName="price" class="form-control">

                        <div *ngIf="planForm.get('price')?.invalid && (planForm.get('price')?.dirty || planForm.get('price')?.touched)"
                       class="text-sm text-danger">
                      <div *ngIf="planForm.get('price')!.hasError('required')">Field is required.</div>
                      </div>

                      </div>
                      <div class="form-group">
                        <input type="submit" class="btn btn-primary" value="Submit">
                      </div>
                    </form>
                  </div>
              </div>
          </div>

      </div>
  </div> 
</div>
-->